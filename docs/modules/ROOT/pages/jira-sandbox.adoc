= Jira Sandbox
Sebastian Sommerfeld <sebastian@sommerfeld.io>

A Jira Sandbox system for development and testing purposes.

CAUTION: Todo

== Requirements Overview
. Lorem
. ipsum
. dolor

== Quality Goals
. Lorem

== Install
In order to run this project, the following dependencies must be met:

. Install Virtualbox and Vagrant
.. Install the Vagrant Plugin "vagrant-vbguest" using `vagrant plugin install vagrant-vbguest`

== Usage
[cols="1,4", options="header"]
|===
|Category |Info
|Box Image |centos/8
|Provider |Virtualbox
|VM-Name & Hostname |jira-sandbox
|User (Password) |vagrant (vagrant)
|Port Range for this VM |8888
|System Requirements |CPUs = 1, RAM = 4096 MB
|===

=== Use this Vagrantbox

. Start the Vagrantbox using `vagrant up` from the directory containing the Vagrantfile
. Start and stop the jira instance by using `src/main/jira-sandbox/services/jira-up.sh` and `src/main/jira-sandbox/services/jira-down.sh` from inside the Vagrantbox (get inside by using `vagrant ssh` from the directory containing the Vagrantfile)
. Shutdown the Vagrantbox using `vagrant halt` from the directory containing the Vagrantfile
. Remove the Vagrantbox using `vagrant destroy -f` from the directory containing the Vagrantfile

=== Provisioning
This Vagrantbox is provisioned on (initial) startup. To provision the Vagrantbox again, run vagrant up --provision on a stopped environment and vagrant provision or vagrant reload --provision on a running environment.

=== Jira Software

. The Jira Setup uses a H2DB. So there are no dependencies to the outside other than an internet connection to download the Jira Software archive.
. To set up a new Jira Instance just run `src/main/jira-sandbox/provision/jira-setup.sh`. Make sure you first delete the existing Jira Instance or copy / archive it to another location (and then delete the existing instance). By archiving the instance you can restore this setup rather easily.
. For a complete Setup it is needed to go through the complete Jira Setup Wizard (via Browser) -> So the Jira Setup ist not completely Infrastructure as Code.

CAUTION: Typically this Jira Sandbox uses an evaluation license which expires after 30 days.

== Building Block View / Whitebox Overall System
[plantuml, rendered-plantuml-image, svg]
----
@startuml

skinparam linetype ortho
skinparam monochrome false
skinparam componentStyle uml2
skinparam backgroundColor transparent
skinparam ArrowColor black
skinparam CollectionsBorderColor black
skinparam ComponentBorderColor black
skinparam ComponentBackgroundColor #FEFECE
skinparam NoteBorderColor Grey
skinparam NoteBackgroundColor #fdfdfd
skinparam defaultTextAlignment center
skinparam activity {
  FontName Ubuntu
}

component vm as "jira-sandbox" <<vagrantbox>> {
    component g as "Git Client"
    component j as "'Jira Software' Installation"
    note right of j: Port: 8888
}

@enduml
----

* Jira Home Dir = `TBD`

=== Services
The following services are up and running when the Vagrantbox is started (and provisioned).

[cols="2,4,2", options="header"]
|===
|Service |URL|User (Password)
|Jira Software |http://localhost:8888 (forwarded from 8080 in Vagrantfile) |-
|===

== Architecture Decisions
Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.

CAUTION: Todo

== Risks and Technical Debts
Scale for Probability and Impact: Low, Medium and High

[cols="1,3,5,1,1,4", options="header"]
|===
|# |Title |Description |Probability |Impact |Response
|{counter:usage} |Centos or Fedora |Vagrantbox is based on Centos 7 which is only supported until 2024 and not actively developed anymore. Centos 8 is already end-of-life. There will be no Centos9, the Centos line as we know it will be replaced by Centos Stream which will serve another purpose. |High |Low |It's more of  a question and not directly a technical risk. Seems like using a Fedora base box is the best solution. Fedora is the upsteam project for Redhat Enterprise Linux.
|===
